## Содержание

1. [Команды запуска кодов](#команды-запуска-кодов)
	1. [Первая инициализация](#первая-инициализация)
	2. [Для запуска](#для-запуска)
	3. [Сохранение новых зависимостей](#сохранение-новых-зависимостей)
	4. [Экспорт проекта](#экспорт-проекта)
2. [Команды использования Git](#команды-использования-git)
	1. [Проверка состояния репозитория](#проверка-состояния-репозитория)
	2. [Создать ветку на текущей позиции](#создать-ветку-на-текущей-позиции)
	3. [Закоммитить изменения](#закоммитить-изменения)
	4. [Запушить коммиты](#запушить-коммиты)
	5. [Получить изменения с GitHub](#получить-изменения-с-github)
	6. [Перемещение по веткам](#перемещение-по-веткам)
	7. [Смёржить две ветки](#смёржить-две-ветки)
3. [Python venv](#python-venv)
	1. [Зачем использовать `venv`?](#зачем-использовать-venv)
	2. [Как использовать `venv`](#как-использовать-venv)
		1. [Создание виртуального окружения](#1-создание-виртуального-окружения)
		2. [Активация виртуального окружения](#2-активация-виртуального-окружения)
		3. [Установка пакетов в виртуальное окружение](#3-установка-пакетов-в-виртуальное-окружение)
		4. [Деактивация виртуального окружения](#4-деактивация-виртуального-окружения)
		5. [Удаление виртуального окружения](#5-удаление-виртуального-окружения)

## Команды запуска кодов

Для бэкенда все команды запускаются из папки `lyrata-python-app`, если не указано другого. Для фронтенда из `lyrata-electron-app`.

#### Первая инициализация:

**Бэкенд** - запуск виртуального окружения, а также установка в нём всех зависимостей проекта.

```powershell
python -m venv venv
venv\Scripts\activate
pip install -r requirements.txt
```

**Фронтенд** - установка зависимостей.

```powershell
npm install
```

#### Для запуска:

**Бэкенд** - запуск сервера для связи с `React` в подготовленном виртуальном окружении.

```powershell
venv\Scripts\activate
python app.py
```

**Фронтэнд** - запуск сервера `React`.

```powershell
npm start
```

Также для запуска приложения `electron`:

```
npm electron-dev
```

#### Сохранение новых зависимостей

Для Фронтенда ничего не требуется, всё происходит автоматически.
**Бэкенд** - "заморозка" всех зависимостей.

```
pip freeze > requirements.txt
```

#### Экспорт проекта

1. Экспортировать python-приложение в .exe, занести его в папку с фронтендом
2. После проверки работы запустить `npm run electron-pack`. Для windows необходимо запускать с правами администратора, т. е. не в стандартном терминале VSCode.

## Команды использования Git

Простые правила совместного пользования Git репозиторием:

1. **Не коммитить в ветку main, только мёржить** (для этого нужно создать свою ветку и запушить сразу её, либо смёржить с main веткой и запушить main ветку)
2. **Не коммитить неработающий код или баги**

#### Проверка состояния репозитория:

```powershell
git status
```

#### Создать ветку на текущей позиции:

```powershell
git switch -c BranchName
```

#### Закоммитить изменения:

```powershell
git add .
git commit -m "My commit message, I describe here what I did"
```

#### Запушить коммиты:

```powershell
git push origin BranchName
```

#### Получить изменения с GitHub:

```powershell
git pull origin BranchName
```

#### Перемещение по веткам

Сначала необходимо закоммитить изменения, чтобы они не переместились в другую ветку. Затем для изменения ветки выполнить:

```powershell
git switch BranchName2
```

#### Смёржить две ветки

Нужно определиться кого куда, например BranchName -> main, для этого нужно переместится в main и выполнить:

```powershell
git merge BranchName
```

## Python venv

`venv` (от "virtual environment" - виртуальное окружение) — это встроенный модуль Python, который позволяет создавать изолированные среды для ваших проектов. Это очень полезно, так как помогает избежать конфликтов зависимостей между различными проектами и поддерживает чистоту вашей системной установки Python.

Представьте, что у вас есть два проекта, использующих разные версии одной и той же библиотеки (например, Django 4.0 и Django 4.1). Без виртуальных окружений установка одной версии может сломать другой проект. `venv` решает эту проблему, создавая отдельный "контейнер" для каждого проекта, со своим собственным интерпретатором Python и набором установленных пакетов.

#### Зачем использовать `venv`?

- **Изоляция зависимостей:** Каждый проект может иметь свои собственные версии библиотек, не влияя на другие проекты или глобальную установку Python.
- **Воспроизводимость:** Вы можете легко воспроизвести среду проекта на другой машине, используя файл `requirements.txt`.
- **Чистота системной установки:** Ваша основная установка Python остается чистой от специфических для проекта пакетов.
- **Портативность:** Проекты становятся более портативными, так как все их зависимости находятся в одном месте.

#### Как использовать `venv`

###### 1. Создание виртуального окружения

Чтобы создать виртуальное окружение, откройте терминал (командную строку) и перейдите в корневую директорию вашего проекта. Затем выполните следующую команду:

```bash
python -m venv myenv
```

- `python`: Вызывает интерпретатор Python.
- `-m venv`: Указывает Python запустить модуль `venv`.
- `myenv`: Это имя вашего виртуального окружения. Вы можете назвать его как угодно, но часто используется `venv` или `.venv`.

Эта команда создаст папку с именем `myenv` (или выбранным вами именем) в текущей директории. Эта папка будет содержать копию интерпретатора Python, а также каталоги для хранения установленных пакетов.

###### 2. Активация виртуального окружения

После создания виртуального окружения его необходимо активировать. Активация изменяет переменную `PATH` вашей оболочки, чтобы команды `python` и `pip` указывали на интерпретатор и пакеты внутри вашего виртуального окружения, а не на глобальные.

**Для Windows**

В командной строке (CMD):

```cmd
myenv\Scripts\activate
```

В PowerShell:

```powershell
.\myenv\Scripts\Activate.ps1
```

**Для Linux и macOS**:

```bash
source myenv/bin/activate
```

После активации вы заметите, что имя вашего виртуального окружения (например, `(myenv)`) появится в начале строки приглашения вашего терминала. Это указывает на то, что виртуальное окружение активно.

###### 3. Установка пакетов в виртуальное окружение

Когда виртуальное окружение активировано, вы можете устанавливать пакеты с помощью `pip`. Все установленные пакеты будут помещены в это конкретное виртуальное окружение и не будут влиять на вашу глобальную установку Python или другие виртуальные окружения.

Например, для установки библиотеки `requests`:

```bash
pip install requests
```

Вы также можете обновить `pip` внутри виртуального окружения:

```bash
python -m pip install --upgrade pip
```

**Использование `requirements.txt`**:

Хорошей практикой является создание файла `requirements.txt`, в котором перечислены все зависимости вашего проекта. Вы можете сгенерировать этот файл, находясь в активном виртуальном окружении:

```bash
pip freeze > requirements.txt
```

Чтобы установить все зависимости из `requirements.txt` в новом виртуальном окружении:

```bash
pip install -r requirements.txt
```

###### 4. Деактивация виртуального окружения

Когда вы закончили работу над проектом или хотите переключиться на другой, вы можете деактивировать текущее виртуальное окружение.

Просто введите в терминале:

```bash
deactivate
```

Строка приглашения вашего терминала вернется в обычное состояние, указывая, что виртуальное окружение больше не активно.

###### 5. Удаление виртуального окружения

Виртуальные окружения считаются "одноразовыми". Если вам больше не нужно виртуальное окружение, вы можете просто удалить его папку. Нет специальной команды `venv` для удаления.

Убедитесь, что виртуальное окружение деактивировано, прежде чем удалять его.

**Для Windows**:

```cmd
rmdir /s /q myenv
```

**Для Linux и macOS**:

```bash
rm -rf myenv
```

Замените `myenv` на фактическое имя папки вашего виртуального окружения.

**Важное замечание:** Никогда не добавляйте папку виртуального окружения в систему контроля версий (например, Git). Вместо этого используйте файл `requirements.txt` для управления зависимостями.
